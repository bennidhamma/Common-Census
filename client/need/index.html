<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:fb="http://www.facebook.com/2008/fbml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <script type="text/javascript" src="/js/jquery-1.4.2.min.js"></script>
    <script type="text/javascript" src="/js/jquery-ui-1.8.1.custom.min.js"></script>
    <script type="text/javascript" src="/js/json2.js"></script>
    <script type="text/javascript" src="/js/jquery.rest.js"></script>
    <script type="text/javascript" src="/js/jquery.cookie.js"></script>
    <script type="text/javascript" src="/js/jquery.jtml.js"></script>
    <script type="text/javascript" src="/js/jquery.hint.js"></script>
    <script type="text/javascript" src="/js/jquery.jeditable.mini.js"></script>
    <script type="text/javascript" src="/js/jquery.timeago.js"></script>
	<script type="text/javascript" src="/js/selectToUISlider.jQuery.js"></script>
	<script type="text/javascript" src="/js/common.js"></script>
    <script type="text/javascript" src="controller.js"></script>
    <link type="text/css" href="/css/ui-lightness/jquery-ui-1.8.1.custom.css" rel="stylesheet" />	
    <link type="text/css" href="/css/ui.slider.extras.css" rel="stylesheet"></link>
    <link type="text/css" href="/css/styles.css" rel="stylesheet"></link>
    <link type="text/css" href="styles.css" rel="stylesheet"></link>
    <title>Common Census Need</title>
  </head>
  <body>
  	<div id="sidebar">
		<p class="logo"><a href="/">Common Census</a></p>
		<div id="fb-root"></div>
		<fb:login-button autologoutlink="true"></fb:login-button>
		
		<div id="stats">
			<h2>People who need this are&hellip;</h2>
		</div>
    </div>
    <div id="main">
		<!--header-->
		<h1><span></span><em class='needCount'></em></h1>
		<div id="haveNeed" style="display:none">I have this need.  <a href="#" id="removeNeed">I don't need this anymore.</a></div>
		<div id="doesNotHaveNeed" style="display:none"><a href="#" id="addNeed">I need this.</a></div>
		<!--body-->		 
		<h2>People who need this</h2>
		<div id="users"></div>
		<div id="comments"></div>
		<form id="commentForm" style="display:none">
			<fieldset>
			<legend>Share your feelings or thoughts</legend>
			<div><label for="title">Title:</label><input id="title" name="title"></div>
			<div><label for="body">Body:</label><textarea rows="5" cols="80" id="body" name="body"></textarea></div>
			<button id="addComment">Add Comment</button>
			</fieldset>
		</form>
	</div>
	<div id="needProfileDialog" style="display:none" title="Describe your need">
		<form>
			<fieldset>
				<div id="sliderContainer">
					<label for="needType">What kind of need is this?</label>
					<select id="needType" name="needType">
						<option value="physiological">Physiological</option>
						<option value="safety">Safety</option>
						<option value="loveBelonging">Love / Belonging</option>
						<option value="selfEsteem">Self Esteem</option>
						<option value="selfActualization">Self Actualization</option>
						<option value="peakExperience">Peak Experience</option>
					</select>
				</div>
				<div id="sliderContainer">
					<label for="metLevel">How well is this need met in your life?</label>
					<select id="metLevel" name="metLevel">
						<option value="unmet">Unmet</option>
						<option value="met">Met</option>
						<option value="wellMet">Well met</option>
					</select>
				</div>
				<div id="sliderContainer">
					<label for="metTime">How immediate is this need?</label>
					<select id="metTime" name="metTime">
						<option value="now">Right away</option>
						<option value="months">Soon (6 - 12 months)</option>
						<option value="years">No hurry (could be years)</option>
					</select>
				</div>
			</fieldset>
		</form>
	</div>
    <script type="text/html" id="userTemplate">
    	<div class="user">
    		<img width=50 height=50 src="http://graph.facebook.com/${facebookUid}/picture">
    		<a href="/user/${facebookUid}">${name}</a>
    	</div>
    </script>
	<script type="text/html" id="commentTemplate">
		<div class="comment" commentid="${id}">
			<h2>${title}</h2>
			<p>${body}</p> 
			<em>by ${author.name}, <span class='timeago' title="${date}">${date}</span></em>
		</div>
	</script>
	<script>
		$(function() {
			setupNeed();
		});
	</script>  
  </body>
</html>
